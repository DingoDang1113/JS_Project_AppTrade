!function(){"use strict";!function(){let e,t=[],n={},o={},i=0;const c=["#45ffbc","#e3ffa8","#a6a6a6","#f6cd61","#aec993"];async function s(e){const t=`https://financialmodelingprep.com/api/v3/quote/${e}?apikey=f43645c7dcc9b1fe95e501b844e1c963`;try{const e=await fetch(t),n=await e.json();return console.log("fetch",n),n}catch(e){return console.error(e),null}}(async function(e){try{const e=await fetch("https://financialmodelingprep.com/api/v3/quote/JPM?apikey=f43645c7dcc9b1fe95e501b844e1c963");return await e.json()}catch(e){return console.error(e),null}})().then((e=>{console.log("Result:",e)})).catch((e=>{console.error("Error fetching stock price:",e)})),document.getElementById("content");const l=document.getElementById("stockTiles");function a(e){console.log("display is passed with",e);const a=e[0],d=(document.createElement("span"),document.createElement("div"));d.style.margin="5px",d.style.padding="1px",d.style.borderRadius="8px",d.style.width="150px",d.style.backgroundColor=c[i%c.length],i++;const m=document.createElement("span"),p=function(e){return e>0?`⬆${e.toFixed(2)}%`:`⬇${e.toFixed(2)}%`},u=n[a.symbol],y=o[a.symbol],f=(a.price-u)*y,g=100*(a.price/u-1),h=document.createElement("p");h.id="symbolInfo",h.style.fontWeight="600",h.textContent=`${a.symbol}`;const C=document.createElement("p");C.id="priceInfo",C.style.fontStyle="oblique",C.textContent=`$${a.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;const b=document.createElement("p");b.id="changeInfo",b.style.fontStyle="oblique",b.textContent=`${p(a.changesPercentage)}`,a.changesPercentage<0&&(C.style.color="red",b.style.color="red");const x=document.createElement("p");x.id="gainLossInfo",x.textContent=`$${f.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;const E=document.createElement("p");E.id="roiInfo",E.textContent=`${p(g)}`,g<0&&(x.style.color="red",E.style.color="red");const $=document.createElement("button");return $.textContent="-",$.addEventListener("click",(function(){const e=t.indexOf(a.symbol);-1!==e&&(t.splice(e,1),delete n[a.symbol],delete o[a.symbol]),l.removeChild(d),r(),async function(){let e=0,t=0,i=0,c=0;for(const l of Object.keys(n)){const a=await s(l);if(a&&a.length>0){const s=a[0].price;t+=s*o[l],e+=(s-n[l])*o[l],i+=o[l]*n[l],c+=o[l]*s}}const l=100*(c/i-1);console.log("totalROI",l);const a=document.getElementById("summaryTile");a.innerHTML="";const r=document.createElement("p");r.id="summaryTotal",r.style.fontWeight="800",r.style.padding="1px",r.style.fontSize="20px",r.textContent=`$${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;const d=document.createElement("p");d.id="summaryGL",d.innerHTML=`Gain/Loss<sup>*</sup>:     $${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;const m=document.createElement("p");m.id="summaryROI",m.style.marginTop="5px",m.textContent=`${l.toFixed(2)}%`,l<0&&(d.style.color="red",m.style.color="red");const p=document.createElement("p");p.id="footer",p.style.fontSize="10px",p.style.fontStyle="italic",p.innerHTML="<sup>*</sup> not include tax and related fees",a.appendChild(r),a.appendChild(d),a.appendChild(m),a.appendChild(p.cloneNode(!0))}()})),d.appendChild($),d.appendChild(m),d.appendChild(h),d.appendChild(C),d.appendChild(b),d.appendChild(x),d.appendChild(E),l.appendChild(d),a.price}async function r(){e&&e.destroy();let i=t,c=[],l=[];for(let e=0;e<i.length;e++){let t=await s(i[e]);if(t&&t.length>0){let s=(t[0].price-n[i[e]])*o[i[e]];l.push(t[0].symbol),c.push(s)}}const a=document.getElementById("myChart").getContext("2d");e=new Chart(a,{type:"bar",data:{labels:l,datasets:[{label:"Gain/Loss in USD",data:c,barPercentage:2,maxBarThickness:20,minBarThickness:10,backgroundColor:"rgba(180,255,228,1)",borderColor:"rgba(75,192,192,1)",borderWidth:1}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0},x:{grid:{offset:!0}}}}})}!async function(){for(document.getElementById("stockTiles").innerHTML="";l.firstChild;)l.removeChild(l.firstChild);for(const e of t)a(await s(e));r()}()}()}();
//# sourceMappingURL=main.js.map